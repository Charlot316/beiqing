(this["webpackJsonpworld-skill"]=this["webpackJsonpworld-skill"]||[]).push([[8],{438:function(e,t,a){"use strict";a.r(t);a(411);var n=a(415),r=a.n(n),c=(a(285),a(279)),o=a.n(c),l=(a(431),a(373)),i=a.n(l),s=(a(333),a(336)),u=a.n(s),d=(a(370),a(374)),p=a.n(d),m=(a(303),a(305)),E=a.n(m),_=(a(297),a(298)),f=a.n(_),g=(a(371),a(372)),h=a.n(g),x=a(44),v=a(45),b=a(47),k=a(46),y=(a(334),a(335)),S=a.n(y),I=a(0),B=a.n(I),w=a(311),T=a(289),C=a(687),N=a.n(C),O=a(310),j=a.n(O),U=a(10),D=a.n(U),G=a(19),M=(a(147),a(34)),P=(a(33),a(277)),Z=a(281);function q(){return(q=Object(G.a)(D.a.mark((function e(t){var a,n,r,c,o,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(P.a)(t),t.role!=Z.c){e.next=15;break}if(3!=t.type){e.next=9;break}return e.next=5,M.a.get("/api/teacher/text".concat(a));case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.next=11,M.a.get("/api/teacher/voiceScore".concat(a));case 11:return r=e.sent,e.abrupt("return",r);case 13:e.next=33;break;case 15:if(2!=t.type){e.next=22;break}return e.next=18,M.a.get("/api/student/voiceTraining".concat(a));case 18:return c=e.sent,e.abrupt("return",c);case 22:if(1!=t.type){e.next=29;break}return e.next=25,M.a.get("/api/student/voicePractising".concat(a));case 25:return o=e.sent,e.abrupt("return",o);case 29:return e.next=31,M.a.get("/api/student/text".concat(a));case 31:return l=e.sent,e.abrupt("return",l);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=S.a.TabPane,F=[],J=[],R=function(e){Object(b.a)(a,e);var t=Object(k.a)(a);function a(e){var n;Object(x.a)(this,a),(n=t.call(this)).audio=void 0,n.slot={left:B.a.createElement("div",{className:N.a.returnButton},B.a.createElement("a",{onClick:function(){n.props.history.goBack()}},B.a.createElement(w.a,null,"\u8fd4\u56de")))};var r=e.location.search,c=j.a.parse(r.slice(1)),o=c.topicId,l=c.type,i=c.studentId,s=Object(P.b)("userType");F={topicId:o,type:l,studentId:i,role:s};var u=!1,d=!1,p="";return 3==l?u=!0:d=!0,p=s==Z.c?"/app/teacher/score":"/app/student/score",n.state={showTextButton:u,showPlayButton:d,path:p},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),function(e){return q.apply(this,arguments)}(F).then((function(t){J=t.data,e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){void 0!=this.audio&&this.audio.pause(),this.audio=null}},{key:"getStrokecolor",value:function(e){return e<60?"#ed1941":e<80?"#ffd400":e<90?"#009ad6":"#1d953f"}},{key:"render",value:function(){var e=this;return this.state.showTextButton?B.a.createElement(T.a,{path:this.state.path},B.a.createElement(h.a,null),B.a.createElement(f.a,{offsetTop:60},B.a.createElement("div",{className:N.a.topBar,name:"activity1"},B.a.createElement(S.a,{tabBarExtraContent:this.slot,defaultActiveKey:"1",centered:!0,onChange:function(t){2==t?(e.props.history.replace("grade?studentId=".concat(F.studentId,"&topicId=").concat(F.topicId)),e.forceUpdate()):3==t&&(e.props.history.replace("edit?topicId=".concat(F.topicId)),e.forceUpdate())}},B.a.createElement(A,{tab:"\u6587\u672c\u5185\u5bb9",key:"1"}),Object(P.b)("userType")==Z.b?B.a.createElement(A,{tab:"\u7f16\u8f91\u6587\u672c",key:"3"}):"",B.a.createElement(A,{tab:"\u8bc4\u5206\u6807\u51c6",key:"2"})))),B.a.createElement("div",null,B.a.createElement(i.a,{grid:{gutter:0,column:1},dataSource:J,renderItem:function(e){return B.a.createElement(i.a.Item,null,B.a.createElement(E.a,null,B.a.createElement(u.a,{offset:2,span:20},B.a.createElement(p.a,{hoverable:!0,title:B.a.createElement("span",{className:[N.a.cardTitle]},[e.name])},B.a.createElement(E.a,null,B.a.createElement("div",{className:N.a.dialogContent},e.dialog))),B.a.createElement("div",{className:N.a.rectangle}))))}}))):B.a.createElement(T.a,{path:this.state.path},B.a.createElement(h.a,null),B.a.createElement(f.a,{offsetTop:60},B.a.createElement(E.a,null,B.a.createElement(u.a,{span:5,className:N.a.returnButton},B.a.createElement("a",{onClick:function(){e.props.history.goBack()}},B.a.createElement(w.a,null,"\u8fd4\u56de"))))),B.a.createElement("div",null,B.a.createElement(i.a,{grid:{gutter:0,column:1},dataSource:J,renderItem:function(t){return B.a.createElement(i.a.Item,null,B.a.createElement(E.a,{align:"middle"},B.a.createElement(u.a,{offset:2,span:18},B.a.createElement(o.a,{title:"\u8f7b\u6309\u4ee5\u64ad\u653e\u97f3\u9891"},B.a.createElement(p.a,{hoverable:!0,onClick:function(){void 0!=e.audio&&e.audio.pause(),e.audio=null,e.audio=new Audio([t.voiceFile]),e.audio.play()},title:B.a.createElement("span",{className:[N.a.cardTitle]},B.a.createElement(E.a,null,B.a.createElement(u.a,{span:4},[t.name])))},B.a.createElement(E.a,null,B.a.createElement(u.a,{span:24},B.a.createElement("div",{className:N.a.dialogContent},t.dialog)),B.a.createElement(u.a,{span:3,className:parseInt(t.score)<60?N.a.cardScore0:[parseInt(t.score)<80?N.a.cardScore1:[parseInt(t.score)<90?N.a.cardScore2:N.a.cardScore3]]}," ")))),B.a.createElement(r.a,{format:function(){return B.a.createElement("span",null)},percent:parseInt(t.score),strokeColor:e.getStrokecolor(parseInt(t.score))})),B.a.createElement(u.a,{offset:1},B.a.createElement(r.a,{width:80,format:function(e){return B.a.createElement("span",{className:parseInt(t.score)<60?N.a.cardScore0:[parseInt(t.score)<80?N.a.cardScore1:[parseInt(t.score)<90?N.a.cardScore2:N.a.cardScore3]]},"".concat(t.score," \u5206"))},percent:100,type:"circle",strokeColor:e.getStrokecolor(parseInt(t.score))}))))}})))}}]),a}(B.a.Component);t.default=R},687:function(e,t,a){e.exports={returnButton:"index_returnButton__a6ysG",textButton:"index_textButton__2Rvkw",dialogContent:"index_dialogContent__3B6ZO",cardTitle:"index_cardTitle__3i-x6",dialogScore:"index_dialogScore__Z7gED",cardScore:"index_cardScore__2cWYB",topBar:"index_topBar__3zv6X",rectangle:"index_rectangle__3ElMO",cardScore2:"index_cardScore2__2G6du",cardScore0:"index_cardScore0__5-QRD",cardScore1:"index_cardScore1__1dqDb",cardScore3:"index_cardScore3__2NGSk",rectangle2:"index_rectangle2__2FZ02",rectangle0:"index_rectangle0__Enq63",rectangle1:"index_rectangle1__2M_Ud",rectangle3:"index_rectangle3__37yCT"}}}]);